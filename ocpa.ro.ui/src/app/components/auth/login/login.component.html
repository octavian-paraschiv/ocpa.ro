<div class="card card-login">
    <div class="card-header py-1 px-2">
        <label class="card-subtitle mb-0" [innerHtml]="'auth.enter-credentials' | translate"></label>
    </div>
    <hr class="my-0" />
    <div class="card-body p-0">
        <form class="login-form p-3" [formGroup]="formGroup" (ngSubmit)="onSubmit()">
            <div class="mb-3 login-form-control">
                <label class="form-label">{{'auth.username' | translate}}</label>
                <input type="text" class="form-control" formControlName="username" autofocus (input)="error = undefined" />
                <div *ngIf="f?.username?.errors?.required" class="invalid-feedback d-block">
                    {{'auth.username-required' | translate}}
                </div>
            </div>
            <div class="mb-3 login-form-control position-relative">
                <label class="form-label">{{'auth.password' | translate}}</label>
                <input type="{{hide ? 'password' : 'text'}}" class="form-control" formControlName="password" (input)="error = undefined" />
                <div class="password-hide-icon"
                    tabindex="-1"
                    (click)="hide = !hide"  
                    [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide">
                        <fa-icon [icon]="hide ? faEye : faEyeSlash" [transform]="size"></fa-icon>
                </div>
                <div *ngIf="f?.password?.errors?.required" class="invalid-feedback d-block">
                    {{'auth.password-required' | translate}}
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100 login-form-control mb-3" [disabled]="loading">
                {{'title.login' | translate}}
            </button>
        </form>
    </div>
    <div class="card-footer" *ngIf="loading || error">
        <div *ngIf="loading" class="progress mb-2">
            <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div>
        </div>
        <div *ngIf="error" class="text-danger login-form-control" [innerHtml]="error"></div>
    </div>
</div>